jQuery.fn.tagCloud=function(e,c){if(!e||!e.length)return this;var g={sort:function(a,r){return a.tag<r.tag?-1:a.tag==r.tag?0:1},click:function(a){},maxFontSize:4,min:-1,max:-1,data:{},template:!1},u="",t={};jQuery.extend(t,g,c);var i=t.min,n=t.max;i<0&&n<0&&(i=-1,n=e[0].count,$.each(e,function(a,r){i=Math.max(r.count,i),n=Math.min(r.count,n)})),t.sort&&e.sort(t.sort),t.template?u=t.template:u='<a href="{href}" class="tagcloudlink" style="font-size: {size}em">{tag}</a>';var d=i==n?1:(i-n)/(t.maxFontSize-1);function l(a){return 1+(a-n)/d}this.empty();for(var o=0;o<e.length;++o){var f=e[o].tag,s=e[o].count,h={tag:f,size:l(s),count:s},p=u.replace(/{([^{}]+)}/g,function(a,r){return h[r]||""}),m=jQuery(p).data("tag",f).data(t.data);t.click&&m.click(function(a){a.preventDefault(),t.click(jQuery(a.target).data("tag"),a)}),this.append(m).append(" ")}return this};
