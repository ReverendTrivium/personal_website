jquery.fn.tagCloud=function(e,c){if(!e||!e.length)return this;var g={sort:function(a,n){return a.tag<n.tag?-1:a.tag==n.tag?0:1},click:function(a){},maxFontSize:4,min:-1,max:-1,data:{},template:!1},o="",t={};jquery.extend(t,g,c);var i=t.min,r=t.max;i<0&&r<0&&(i=-1,r=e[0].count,jquery.each(e,function(a,n){i=Math.max(n.count,i),r=Math.min(n.count,r)})),t.sort&&e.sort(t.sort),t.template?o=t.template:o='<a href="{href}" class="tagcloudlink" style="font-size: {size}em">{tag}</a>';var d=i==r?1:(i-r)/(t.maxFontSize-1);function l(a){return 1+(a-r)/d}this.empty();for(var u=0;u<e.length;++u){var f=e[u].tag,s=e[u].count,h={tag:f,size:l(s),count:s},p=o.replace(/{([^{}]+)}/g,function(a,n){return h[n]||""}),m=jquery(p).data("tag",f).data(t.data);t.click&&m.click(function(a){a.preventDefault(),t.click(jquery(a.target).data("tag"),a)}),this.append(m).append(" ")}return this};
